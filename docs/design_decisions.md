# Design decisions
Dit document beschrijft ontwerpkeuzes die gemaakt zijn voor het ontwerpen en specificeren van de API's in dit koppelvlak.

Beslissing | Ratio
---------- | -----
Tabelentiteiten worden in het bericht opgenomen met zowel de code als de omschrijving | garanderen dat verschillende systemen binnen en buiten de gemeente dezelfde (toestand) van de tabel kennen is duur, ingewikkeld en foutgevoelig.
Enumeraties worden in het bericht opgenomen met de enumeratiewaarde (omschrijving), niet de code. Bijvoorbeeld voor geslacht wordt "Vrouw" of "Man" gestuurd, niet "V" of "M". | Uitgangspunt binnen Common Ground is gebruik van gegevens, niet opslag van gegevens. Dus de omschrijving (uitgeschreven waarde) is relevant voor de gebruiker.
Entiteittypen die een suptype zijn van een ander (al dan niet abstract) entiteittype (supertype), worden als zodanig gespecificeerd in de Open API specificaties. Bijvoorbeeld een "ingeschreven natuurlijk persoon" is een "natuurlijk persoon" is een "persoon" is een "subject". In Open API Specificaties 3 wordt dit gespecificeerd via allOf met referentie naar de schema component van het supertype. | Dit sluit aan bij een object georiÃ«nteerde ontwikkelstijl. Het bevordert hergebruik van code. Bevordert consistentie van implementatie van dezelfde gegevens uit supertypen voor verschillende subtypen.
Gemeentelijke kerngegevens en plusgegevens worden niet opgenomen in de resource. | Deze gegevens zitten niet in een (voor alle gemeenten geldend) bronsysteem dat voor de bevraging geraadpleegd kan worden. Deze gegevens zijn dus (voorlopig) niet raadpleegbaar. Ook worden deze gegevens niet in alle gemeenten (op dezelfde manier) gebruikt.
Zoeken (filteren) op adres (postcode) bij een ingeschreven persoon wordt gedaan op de niet-authentieke postcode zoals die in de BRP is opgeslagen. | Een oplossing waarbij deze zoekvraag wordt samengesteld uit een bevraging op BAG (adressen) gecombineerd met een of meerdere bevraging(en) op GBA/BRP legt teveel complexiteit en last bij gemeenten. Implementatie is veel makkelijker en response veel sneller bij bevragen op deze gegevens binnen de BRP. Niet alle adressen in BRP zijn vastgesteld authentiek en deze personen moeten ook gevonden kunnen worden.
Voor elke gelinkte resource (relatie) moet er binnen het Bevragen ingeschreven personen koppelvlak (ten minste tijdelijk) een resource API beschreven (ontsloten) zijn. Voor een gelinkte resource buiten het BRP-domein wordt alleen het opvragen van de actuele status van de enkele resource gespecificeerd. | Relaties worden opgenomen als uri naar de betreffende resource. De API voor het opvragen van de ingeschreven persoon moet dus URI's kunnen samenstellen die verwijzen naar de betreffende objecten (resources) en waar deze objecten (resources) ook daadwerkelijk op te vragen zijn. Zo lang deze resources nog niet ontsloten zijn (in een koppelvlak en API op betreffende bron) moeten deze dus binnen dit koppelvlak beschreven worden.
