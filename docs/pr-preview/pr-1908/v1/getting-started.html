<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-16">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/assets/style.css">
    

    <title></title>
  </head>
  <body>
    <div class="container-fluid">
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/">
          <img src="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/assets/img/haal_centraal_zon_geel_RGB.png" width="238px">
        </a>
        <span class="navbar-text">BRP API Personen</span>
        
          <a class="navbar-brand-right" href="http://www.rvig.nl/" target="_blank">
            <img src="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/assets/img/BZK_RIG_Logo_online_ex_pos_nl.png" width="238px">
          </a>
        
      </nav>
      <div style="height: 0px; border-top: 1px solid #b1b1b1;box-shadow: 0 -5px 5px -5px #7c7c7c;"></div>
      <nav class="navbar navbar-expand-lg navbar-light bg-light" style="text-align: right;">
        <div class="collapse navbar-collapse">
    <ul class="navbar-nav mx-auto">
      <li class="nav-item active">
        <a class="nav-link" href="https://vng-realisatie.github.io/Haal-Centraal/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Starten met Haal Centraal
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/starten-met-haal-centraal">Startgids</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/transitieplan">Transitieplan</a>
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/security">Security</a>
       </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Aansluiten op API's
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/aansluiten-op-apis">Aansluiten op API's</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="https://lvbag.github.io/BAG-Gemeentelijke-wensen-tav-BAG-Bevragingen/">BAG Individuele Bevragingen (live)</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="https://kadaster.github.io/BRK-bevragen/">BRK Bevragen (live)</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="https://brp-api.github.io/Haal-Centraal-BRP-bevragen/">BRP Persoon (live)</a>
          <a class="dropdown-item" href="https://brp-api.github.io/Haal-Centraal-BRP-historie-bevragen/">BRP Historie (live)</a>
          <a class="dropdown-item" href="https://brp-api.github.io/Haal-Centraal-BRP-bewoning/">BRP Bewoning (live)</a>
          <a class="dropdown-item" href="https://brp-api.github.io/Haal-Centraal-Reisdocumenten-bevragen//">BRP Reisdocumenten (live)</a>
          <a class="dropdown-item" href="https://brp-api.github.io/Haal-Centraal-BRP-tabellen-bevragen/">BRP Tabellen</a>
          <a class="dropdown-item" href="https://brp-api.github.io/Haal-Centraal-BRP-Update-API/">BRP Update API</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="https://kadaster.github.io/WOZ-bevragen/">WOZ Bevragen (live)</a>
       </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Bijdragen aan API's</a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/hoe-kun-je-bijdragen">Bijdragen aan API's</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/bug_melden">Bug melden</a>
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/verbetervoorstel">Verbetervoorstel</a>
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/gebruikerswens">Gebruikerswens</a>
       </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link" href="https://vng-realisatie.github.io/Haal-Centraal/over-haal-centraal">Over Haal Centraal</a>
<!--        <a class="nav-link dropdown" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Over Haal Centraal</a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="https://vng-realisatie.github.io/Haal-Centraal/planning">Planning</a>
       </div-->
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://vng-realisatie.github.io/Haal-Centraal/contact">Contact</a>
      </li>
    </ul>
</div>

      </nav>
    </div>
    <div class="container-fluid">
    <div class="row">
        <div class="col-2">
	<div class="header">BRP Personen Bevragen</div>
	<nav class="nav flex-column">
    
      
	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/" target="">Main</a>

	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/goals-canvas" target="">Goals canvas</a>

    
  
	<div class="header">Specificaties v. 2</div>
	<nav class="nav flex-column">
    
      
	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/releasenotes" target="">Releasenotes</a>

	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/v2/getting-started" target="">Getting started</a>

	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/user-stories-prod" target="">User stories</a>

	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/v2/redoc" target="">Bevragen API</a>

	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/v2/features-overzicht" target="">Features overzicht</a>

	
	<a class="nav-link" href="/Haal-Centraal-BRP-bevragen/pr-preview/pr-1908/features/index" target="">Features test overzicht</a>

    
  
</nav>
</div>
        <div class="col-9"><h1 id="getting-started">Getting Started</h1>

<p>De ‘Bevraging Ingeschreven Persoon’ Web API is gespecificeerd in OpenAPI specifications (OAS).</p>

<p>Wil je de API gebruiken? Dit kun je doen:</p>

<ol>
  <li>Bekijk de <a href="#functionaliteit-en-specificaties">functionaliteit en specificaties</a></li>
  <li><a href="#implementeer-de-api-client">Implementeer de API Client</a></li>
  <li><a href="#probeer-en-test-de-api">Probeer en test de API</a></li>
  <li><a href="https://github.com/BRP-API/Haal-Centraal-BRP-bevragen/blob/master/docs/230302%20deelname%20experiment%20BRP%20API's%20v1.4.ppsx">Download</a> en lees het onboardingsproces</li>
</ol>

<h2 id="functionaliteit-en-specificaties">Functionaliteit en specificaties</h2>

<p>Je kunt een visuele representatie van de specificatie genereren met <a href="./swagger-ui">Swagger UI</a> of <a href="./redoc">Redoc</a>.</p>

<p>De (resolved) OAS3 kun je hier downloaden: <a href="https://github.com/BRP-API/Haal-Centraal-BRP-bevragen/blob/master/specificatie/genereervariant/openapi.yaml">openapi.yaml</a>.</p>

<p>De <a href="./features">functionele documentatie</a> vind je in <a href="./features">features</a>.</p>

<h2 id="implementeer-de-api-client">Implementeer de API client</h2>
<p>Client code kun je genereren met de “<a href="https://github.com/BRP-API/Haal-Centraal-BRP-bevragen/blob/master/specificatie/genereervariant/openapi.yaml" target="_blank" rel="noopener">genereervariant</a>” van de API-specificaties en een code generator. Een overzicht met codegeneratoren kun je vinden op <a href="https://openapi.tools/#sdk" target="_blank" rel="noopener">OpenAPI.Tools</a>.</p>

<p>Deze repo bevat scripts waarmee je met <a href="https://openapi-generator.tech/" target="_blank" rel="noopener">OpenAPI Generator</a> client code kunt genereren in JAVA, .NET (Full Framework &amp; Core) en Python. De makkelijkste manier om de code generatie scripts te gebruiken, is door deze repo te clonen. Na het clonen kun je met <code class="language-plaintext highlighter-rouge">npm install</code> de benodigde packages installeren en kun je met npm run <script naam=""> één van de volgende scripts uitvoeren:</script></p>
<ul>
  <li>oas:generate-java-client (voor JAVA client code)</li>
  <li>oas:generate-netcore-client (voor .NET Core client code)</li>
  <li>oas:generate-net-client (voor .NET Full Framework client code)</li>
  <li>oas:generate-python-client (voor Python client code)</li>
</ul>

<p>Een lijst met andere ondersteunde generator opties kun je vinden in de <a href="https://openapi-generator.tech/docs/generators" target="_blank" rel="noopener">Generators List</a> van OpenAPI Generator.</p>

<p>Note. De prerequisite van OpenAPI Generator is JAVA. Je moet een JAVA runtime installeren voordat je OpenAPI Generator kunt gebruiken</p>

<h2 id="probeer-en-test-de-api">Probeer en test de API</h2>

<p>Wil je de ‘Bevraging Ingeschreven Persoon’ Web API proberen en testen? Kijk op: <code class="language-plaintext highlighter-rouge">https://www.haalcentraal.nl/haalcentraal/api/brp</code></p>

<p>Om de web api (proefomgeving) te gebruiken heb je een apikey nodig. Deze voeg je aan een request toe als header “X-API-KEY”. Een API-key vraag je aan bij de product owner <a href="c.dingemanse@comites.nl">c.dingemanse@comites.nl</a>.</p>

<p><strong>De Haal Centraal probeeromgeving gebruikt GBA-V op basis van de gemeentelijke autorisatie “Algemene gemeentetaken” voor buitengemeentelijke personen. Dit betekent dat de GBA-V niet alle gegevens teruggeeft die in de response zijn gedefinieerd. In de <a href="https://github.com/BRP-API/Haal-Centraal-BRP-bevragen/blob/master/docs/BRP-LO%20GBA%20mapping.xlsx?raw=true" target="_blank" rel="noopener">API mapping</a> kun je zien welke gegevens wel of niet onder deze autorisatie vallen.</strong></p>

<p><strong>Je kan de Haal Centraal probeeromgeving niet gebruiken vanuit de browser, dus ook niet vanuit de browserversie van Postman. Gebruik dus de desktopversie van een testtool (zoals Postman) om berichten te sturen.</strong></p>

<h3 id="importeer-de-specificaties-in-postman">Importeer de specificaties in Postman</h3>

<p>De werking van de ‘Bevraging Ingeschreven Persoon’ Web API is het makkelijkst te testen met behulp van <a href="https://www.getpostman.com/" target="_blank" rel="noopener">Postman</a>. We hebben al een <a href="https://github.com/BRP-API/Haal-Centraal-BRP-bevragen/blob/master/test/BRP-Bevragen-postman-collection.json" target="_blank" rel="noopener">Postman collection</a> voor je klaargezet. Deze kun je importeren in Postman.</p>

<p>In Postman kun je de ‘Bevraging Ingeschreven Persoon’ OpenAPI specificatie importeren en visueel de verschillende endpoints aanroepen. Volg deze stappen om het OpenAPI specificatie bestand te importeren:</p>

<p><img src="./img/1-click-import-button.jpg" alt="Import" /></p>

<p>1.Klik op de Import button om de Import dialog box te openen</p>

<p><img src="./img/2-select-import-from-link-tab.jpg" alt="'Import From Link'" /><br />
2.Selecteer ‘Import From Link’ tab, plak de volgende url in de ‘Enter a URL and press Import’ textbox en klik op de Import button</p>

<pre><code class="language-url">https://raw.githubusercontent.com/BRP-API/Haal-Centraal-BRP-bevragen/master/specificatie/genereervariant/openapi.yaml
</code></pre>

<p><img src="./img/3-generate-postman-collection.jpg" alt="Generate Postman collection" /><br />
3.Klik op de Next button om een Postman collectie te genereren uit het OpenAPI specificatie bestand</p>

<p><img src="./img/4-postman-collection-overview.jpg" alt="Postman collection overview" /><br />
4.Import overzicht</p>

<h3 id="configureer-de-url-en-api-key">Configureer de url en api key</h3>

<ol>
  <li>Klik bij “Bevragingen Ingeschreven Personen” op de drie bolletjes.
<img src="./img/edit-collection.png" alt="Generate Postman collection" /></li>
  <li>Klik vervolgens op Edit</li>
  <li>Selecteer tabblad “Authorization”</li>
  <li>Kies TYPE “API Key”</li>
  <li>Vul in Key: “x-api-key”, Value: de API key die je van Cathy hebt ontvangen, Add to: “Header”</li>
  <li>Selecteer tabblad “Variables”</li>
  <li>Vul bij baseUrl INITIAL VALUE en bij CURRENT VALUE: <code class="language-plaintext highlighter-rouge">https://www.haalcentraal.nl/haalcentraal/api/brp</code></li>
  <li>Klik op de knop Update</li>
</ol>

<h3 id="raadpleeg-een-ingeschreven-natuurlijk-persoon">Raadpleeg een Ingeschreven Natuurlijk Persoon</h3>

<p>Selecteer hiervoor de /GET ingeschreven Natuurlijk Persoon request.<br />
<img src="./img/5-select-request.jpg" alt="/GET ingeschreven Natuurlijk Persoon request" /><br />
In het rechterscherm zie je een invoerscherm voor de request. Uncheck voor de volgende voorbeeldaanroep de expand en fields Query Params en vul in de burgerservicenummer Path Variabele een bsn in (zie onderaan de Getting started voor mogelijke burgerservicenummers).</p>

<p>Klik op de Send button om de request naar de endpoint te sturen. De Web API reageert dan met een response:<br />
<img src="./img/7-response.jpg" alt="Response" /></p>

<p>De Web API gebruikt de HAL (Hypertext Application Language) standaard om links op te nemen naar gerelateerde resources en/of om bij een resource gerelateerde resources op te nemen (embedden).<br />
In de response hierboven kun je zien dat het _links/ouders element links bevat naar de ouders van de persoon.</p>

<p>Je kunt ook oudergegevens embedden bij het bevragen van een persoon. Dit doe je met de <code class="language-plaintext highlighter-rouge">expand</code> Query Parameter. Behalve de ouders kun je ook kind(-eren) en partner(s) in de bevraging van een ingeschreven persoon embedden. Deze gegevens zijn te vinden onder de _embedded element:
<img src="./img/8-using-expand-parameter.jpg" alt="expand parameter" /><br />
In dit figuur zie je hoe de <code class="language-plaintext highlighter-rouge">expand</code> Query Parameter eruit moet zien om de ouders, kinderen en partner te embedden in de response van een ingeschreven persoon.</p>

<p>Je kunt ook alleen specifieke kenmerken van een ingeschreven persoon opvragen met behulp van de <code class="language-plaintext highlighter-rouge">fields</code> Query Parameter. Hieronder zie je een bevraging met de <code class="language-plaintext highlighter-rouge">fields</code> Query Parameter gezet op <code class="language-plaintext highlighter-rouge">burgerservicenummer,naam,geboorte.datum</code>.
<img src="./img/9-using-fields-parameter.jpg" alt="fields parameter" /></p>

<h3 id="testpersonen">Testpersonen</h3>

<p>Deze tabel bevat de burgerservicenummers van testpersonen voor specifieke situaties waarmee de ‘Bevraging Ingeschreven Persoon’ Web API kan worden getest.</p>

<table>
  <thead>
    <tr>
      <th>burgerservicenummer</th>
      <th style="text-align: left">situatie</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>999993847</td>
      <td style="text-align: left">ouders, partner, kinderen, BAG-adres, verblijfplaats in onderzoek</td>
    </tr>
    <tr>
      <td>999992077</td>
      <td style="text-align: left">overleden</td>
    </tr>
    <tr>
      <td>999993483</td>
      <td style="text-align: left">geëmigreerd, verblijf buitenland, geheimhouding, uitgebreide verblijfplaatshistorie</td>
    </tr>
    <tr>
      <td>999990482</td>
      <td style="text-align: left">niet-BAG adres</td>
    </tr>
    <tr>
      <td>000009921</td>
      <td style="text-align: left">locatiebeschrijving</td>
    </tr>
    <tr>
      <td>999993653</td>
      <td style="text-align: left">niet-Nederlandse nationaliteit, ouders niet ingeschreven</td>
    </tr>
    <tr>
      <td>999995017</td>
      <td style="text-align: left">actuele en historische verblijfstitel</td>
    </tr>
    <tr>
      <td>999990408</td>
      <td style="text-align: left">gezag minderjarige</td>
    </tr>
    <tr>
      <td>999994669</td>
      <td style="text-align: left">verblijfplaatshistorie met verblijf buitenland en locatiebeschrijving en adrescorrectie</td>
    </tr>
    <tr>
      <td>999992806</td>
      <td style="text-align: left">uitgebreide verblijfstitelhistorie</td>
    </tr>
    <tr>
      <td>999993926</td>
      <td style="text-align: left">actuele en meerdere ex-partners</td>
    </tr>
    <tr>
      <td>999991905</td>
      <td style="text-align: left">twee beëindigde relaties</td>
    </tr>
    <tr>
      <td>999993550</td>
      <td style="text-align: left">partner niet ingeschreven</td>
    </tr>
    <tr>
      <td>999990421</td>
      <td style="text-align: left">meerdere kinderen, wel en niet-ingeschreven</td>
    </tr>
  </tbody>
</table>

<p>De API gebruikt de GBA-V proefomgeving. Alle testpersonen die daarin voorkomen kun je ook in de API gebruiken. De volledige set testpersonen kan worden gedownload bij de <a href="https://www.rvig.nl/documenten/richtlijnen/2018/09/20/testdataset-persoonslijsten-proefomgevingen-gba-v" target="_blank">RvIG</a>.
Een vertaling van GBA-V (LO GBA) attributen naar BRP API properties staat beschreven in de <a href="https://github.com/BRP-API/Haal-Centraal-BRP-bevragen/blob/master/docs/BRP-LO%20GBA%20mapping.xlsx?raw=true" target="_blank" rel="noopener">BRP-LO GBA mapping</a>.</p>
</div>
    </div>
</div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    
  </body>
</html>
